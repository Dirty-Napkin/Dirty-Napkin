/*-------------------- FOR MOBILE --------------------*/

.home-container {
  // Only show on lg and above
    .four-repeat-type {
    display: none;

    height: 80vh;
    align-items: center;
    justify-content: end;
    flex-direction: column;
    gap: 1rem;

    .width-box {
        width: 100%;
        padding: 0 map-get($margins, min);
        
        .row-holder {
            min-width: 100vw;
            display: flex;
            flex-direction: row;
            flex-wrap: wrap;
    
            h2 {
                width: 100%;
                line-height: normal;
                text-align: justify;
                text-align-last: justify;
                color: var(--black);

                display: none;

                @include lg {
                    display: block;
                }
            }

            div {
                position: relative;
            }

            .clone {
                color: var(--white);
                color: transparent;
            }
            
            .main-hero-text {
                display: block;
            }
        }
    }
   
    }



    // only show on sm and md
    .hero-section-mobile {
        height: 240vh; //This is the total height of the section plus the 60vh transform that the JS applies to the p-child

        @include lg {
            display: none;
        }

        .ketchup-parent {
            height: 100vh;
            background-image: url('../../assets/home-pg/hero-ketchup-mobile.jpg');
            background-size: cover;
            z-index: -1;
        }

        .p-parent {
            
            position: sticky;
            top: 0;
            height: 80vh;
            display: flex;
            align-items: center;
            justify-content: end;
            flex-direction: column;
            gap: 1rem;
            // transform: translateY(-40vh);

            .p-child {
                padding: 0 map-get($margins, min);
                width: 100%;
                line-height: normal;
                text-align: justify;
                text-align-last: justify;
                color: var(--white);
                z-index: 1;
                position: absolute;
                margin-bottom: 5vh;

                @include md {
                    width: 75%;
                }
            }
        }
    }

    .hero-section-lg {
        display: none;
    }

    @include lg {
        .hero-section-lg {
            display: block;
            height: 80vh;


            .hero-repeat-text {
                width: 100%;
                display: flex;
                justify-content: center;
                position: sticky;
                height: 230vh;
                contain: paint;

                .width-box {
                    width: 60%;
                    display: flex;
                    flex-wrap: wrap;
                    top: 60vh;
                    max-height: 100vh;
                    color: var(--black);
                    position: sticky;

                    .row-holder {
                        min-width: 100vw;
                        display: flex;
                        flex-direction: column;
                        flex-wrap: wrap;
                    }

                }

                div {
                    display: flex;
                    flex-direction: row;
                    width: 100%;
                    margin-bottom: 40vh;
                    padding: 0;
                    position: relative;
                }

                h2 {
                    width: 24ch;
                    line-height: normal;
                    text-align: justify;
                    text-align-last: justify;
                    margin: 0 0 0 60%;

                    &:first-of-type {
                        position: absolute;
                        margin: 0;
                    }
                }

            }

            .ketchup-wrapper {
                .ketchup-hero {

                }
            }

        }


    }





  

    .ketchup-wrapper {
        display: none;

    
        height: 100vh;
        width: 100vw;
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
        position: sticky;
    }

    .brands-container {

        $span-areas: b, r, a, n, d, s;

        position: relative;
        max-width: 100vw;
        display: flex;
        flex-direction: column;
        align-items: center;
        margin-top: -60vh;


        @include md {
            height: calc((80vh + 125vh + 120vh)); // brand-paragraphs + brand-content + translateY value from JS
        }


        .brand-letters {
            font-size: 14rem;
            position: absolute;
            top: 0;
            color: var(--green);           
            display: grid;
            width: 124%;

            transform: translateY(0%);

            
            grid-template-areas: 
                "b r . "
                ". r a"
                "n d ."
                ". . s"
            ;
            grid-template-columns: repeat(3, 1fr); // 6 equal columns
            grid-template-rows: repeat(4, 1.25em); // 4 equal rows

            @include md {

                position: sticky;
                grid-template-areas: 
                    "b r . . . ."
                    "a . . . n ."
                    ". . . . . d"
                    ". . s . . ."
                ;
                grid-template-columns: repeat(6, 1fr); // 6 equal columns
                grid-template-rows: repeat(4, 1.25em); // 4 equal rows
            }
        
            span { // each individual letter

                @for $i from 1 through length($span-areas) {
                    &:nth-of-type(#{$i}) {
                    grid-area: nth($span-areas, $i);
                    }
                }    

                letter-spacing: 0rem;
                margin-left: auto;
                margin-right: auto;
            }
        }

        .brand-paragraphs {
            padding: 0 map-get($margins, min);
            width: 100%;

            @include md {
                width: 60%;
                position: absolute;
                height: 80vh;

            }
            

            div {
                width: 100%;
                line-height: normal;
                text-align: justify;
                text-align-last: justify;
                margin-top: 14.5rem;

                &:last-of-type {
                    margin-top: 12rem;
                    margin-bottom: 9rem;
                }
            }
        }

        .brands-content {
            padding: 0 map-get($margins, min) 10rem;
            width: 100%;
            
            @include md {

                position: absolute;
                height: 125vh;
                margin-top: 80vh;

                width: 100vw;
                max-width: 1440px;
                display: grid;
                gap: 1.75rem;
                grid-template-areas: 
                    ". TW . ."
                    ". . . LS"
                    ". . TE ."
                    "ASP . PRJS .";
                grid-template-columns: repeat(4, 1fr);
                grid-template-rows: repeat(4, 1fr);
                box-sizing: border-box;
            }

            .brand-item {
                width: 100%;
                height: 100%;
                display: flex;
                flex-direction: column;
                align-items: start;
                justify-content: center;
                padding-bottom: 3rem;

                @include md {
                    align-items: center;
                    justify-content: center;
                    padding: 0;


                    &:nth-child(1) { grid-area: TW; }  // The Window
                    &:nth-child(2) { grid-area: LS; }  // Lemonade Stand
                    &:nth-child(3) { grid-area: TE; }  // Those Eyes
                    &:nth-child(4) { grid-area: ASP; }  // American Scripture Project
                }

                img {
                    width: 100%;

                    @include md{
                        height: auto;
                        object-fit: contain;
                        position: relative;
                        z-index: 2;
                    }
                }
    
                .more-info {
                    display: none;

                    @include md {
                        display: flex;
                        position: absolute;
                        top: 0;
                        z-index: -1;
                    }
                }

                div { // New item description
                    width: 100%;
                    display: flex;
                    flex-direction: column;
                    align-items: left;

                    h3 {
                        margin-top: .7em;
                        margin-bottom: 0;
                    }

                    p {
                        letter-spacing: 0.1rem;
                        text-transform: none;
                    }
                }
                
            }

            .brand-item:last-of-type {
                display: flex;
                align-items: center;
                margin: 3rem 0;
                cursor: default;

                @include md {
                    grid-area: PRJS; 
                    justify-content: end;
                    margin: 0;
                    padding-bottom: 3rem;
                }
            }

          
        }
    }

    .collabs {
        display: none;
    }









    .yellow-ketchup-section {
        position: relative;
        height: 160vh;
        
        @include md {
            margin-top: -120vh;
        }
       
        .mobile-yellow-ketchup-img {
            width: 100%;
            height: 100vh;
            background-image: url('../../assets/home-pg/yellow ketchup.png');
            background-size: cover;
            background-position: right center;
            position: sticky;
            top: 0;
        }

       

        .yellow-ketchup-img {
            display: none;
        }
       
        .yellow-text-section {
            padding: 0 map-get($margins, min);
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            display: flex;
            flex-direction: column;
        }

        .testimonial {
            top: 0;
            width: 100%;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: auto;

            @include md {
                width: 75%;
            }

            p {
                text-transform: none;
                font-weight: 400;
                text-align: justify;
            }

            .with-breaks {
                display: none;
            }

            div {
                display: flex;
                flex-direction: column;
                align-items: end;
            }

            p {


                &:last-of-type {
                    margin-top: 1rem;
                    text-align: left;
                    text-align-last: left;
                    width: auto;
                    font-size: 1.25rem
                }

                span:first-of-type {
                    color: transparent;
                }

                span:last-of-type {
                    font-weight: 600;
                    text-transform: uppercase;
                    font-size: 1.2rem;
                }
            }


        }

        .CTA-container {
            display: flex;
            height: 30vh;


            h2 {
                width: 100%;
                line-height: normal;
                text-align: justify;
                text-align-last: justify;
                color: var(--black);
                margin: auto;

                @include md {
                    width: 75%;
                }
            }
        }

        

    }
}
















@include xl {
    .home-container {
        display: flex;
        align-items: center;
        flex-direction: column;
        transition: background-color 0.3s ease-in-out;
        contain: paint;
        width: 100%;

    

        .four-repeat-type { //main container for the repeat effect - this applies for the first and last sections
            width: 100%;
            display: flex;
            justify-content: center;
            position: absolute;
            height: 230vh;
            contain: paint;


            .width-box { //Sets the width and margins for the text
                width: 60%;
                display: flex;
                flex-wrap: wrap;
                top: 60vh;
                max-height: 100vh;
                color: var(--black);
                position: sticky;


                .row-holder { //container for the rows
                    min-width: 100vw;
                    display: flex;
                    flex-direction: column;
                    flex-wrap: wrap;
                    
                    div { //Row to split text between top and bottom
                        display: flex;
                        flex-direction: row;
                        width: 100%;
                        margin-bottom: 40vh;
                        padding: 0;
                        position: relative;
                        
                        h2 {
                            width: 24ch;
                            line-height: normal;
                            text-align: justify;
                            text-align-last: justify;
                            margin: 0 0 0 60%;

                            &:first-of-type {
                                position: absolute;
                                margin: 0;
                            }
                        }
                    }
                }   
            }
        }

        > .four-repeat-type {
                color: var(--white);
        }

        .four-repeat-type.clone {
            color: var(--black);
        }
                
        .ketchup-wrapper {
            width: 100vw;
            height: 230vh;
            display: flex;
            justify-content: center;
            position: relative;
            background-image: none;

            img {
                display: block;
            }

            .ketchup-hero{
                position: sticky;
                top: 0;
                align-self: flex-start;
                width: 100vw;
                height: 120vh;
                z-index: -1;
               

                transform: translateX(600px);

               
            }
        }    
        
    

        .brands-container {//basic styling for the brands container
            position: relative;
            max-width: 100vw;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .brand-paragraphs, .brand-letters { // grid layout for the brand letters and paragraphs
            display: grid;
            width: 114%;
            max-width: 1641.6px; //114 % of 1440
            

            grid-template-areas: 
                "b r . . . ."
                "a p1 p1 . n ."
                ". . p2 p2 . d"
                ". . s . . ."
            ;
            grid-template-columns: repeat(6, 1fr); // 6 equal columns
            grid-template-rows: repeat(4, 1.25em); // 4 equal rows
            
            div {
            grid-area: p1;
            }
        }
        
        .brands-container { //styling for the brand letters and paragraphs
            
            // Setting up brands type grid and applying styling for the paragraphs.
            $span-areas: b, r, a, n, d, s;
            $div-areas: p1, p2;


            .brand-letters {
                position: sticky;
                top: 0;
                color: var(--green);           

                span { // each individual letter

                    @for $i from 1 through length($span-areas) {
                        &:nth-of-type(#{$i}) {
                        grid-area: nth($span-areas, $i);
                        }
                    }    

                    padding-left: 14%;
                    letter-spacing: -0.5rem;
                }
            }

            .brand-paragraphs {
                position: absolute;
                
                div {// each paragraph
                    @for $i from 1 through length($div-areas) {
                        &:nth-of-type(#{$i}) {
                        grid-area: nth($div-areas, $i);
                        }
                    }
                    
                    display: flex;
                    align-items: center;
                    justify-content: center;
        
                    h3 {
                        text-align: justify;
                        text-align-last: justify;
                        width: 34ch;
                        margin: 0;
                    }
                }
            }
        }

        .brands-content {
            width: 100%;
            align-items: center;
            padding: 0 4rem 0 4rem;
            margin-bottom: 120vh;
            margin-top: -20vh;

            // position: absolute;
            width: 100vw;
            max-width: 1440px;
            display: grid;
            gap: 1.75rem;
            grid-template-areas: 
                ". TW . . . ."
                ". . . . LS ."
                ". . . . TE ."
                "ASP . . . . ."
                ". . PRJS . . .";
            grid-template-columns: repeat(6, 1fr);
            grid-template-rows: repeat(5, 1fr);
            box-sizing: border-box;


            .brand-item {
                position: relative;
                cursor: pointer;
                width: 100%;
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;

                img {
                    width: 100%;
                    height: auto;
                    object-fit: contain;
                    position: relative;
                    z-index: 2;
                }

                .more-info {
                    position: absolute;
                    z-index: -1;
                }

                // Apply grid areas to the brand-item divs
                &:nth-child(1) { grid-area: TW; }  // The Window
                &:nth-child(2) { grid-area: LS; }  // Lemonade Stand
                &:nth-child(3) { grid-area: TE; }  // Those Eyes
                &:nth-child(4) { grid-area: ASP; }  // American Scripture Project
                
                // &:nth-child(5) {  // See brands
                //     grid-area: PRJS; 
                //     // background-color: red;
                //     display: flex;
                //     justify-content: start;
                //     align-items: start;
                // } 
            }
        }
        
        .collabs {
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            transition: all 0.5s ease-in-out;
            padding-bottom: 10rem;
            display: none;

            .collabs-paragraph {
                width: 100%;
                display: grid;
                grid-template-areas: 
                    ". . p p .";
                grid-template-columns: repeat(5, 1fr); // 3 equal columns
                gap: 1.75rem;
                align-items: center;

                h2 {
                    grid-area: p;
                    text-align: justify;
                    text-align-last: justify;
                    margin-top: 20vh;
                    margin-bottom: 30vh;
                }
            } 

            .adam-collab {
                width: 100%;
                height: auto;
                min-height: fit-content;
                display: flex;
                justify-content: center;
                align-items: center;
                position: relative;

                img {
                    position: absolute;
                    padding: 6rem;
                    max-width: 100%;
                    max-height: 100%;
                    height: auto;
                    object-fit: contain;
                }

                h3 {
                    width: 100%;
                    margin: 0;
                    aspect-ratio: 11 / 6;
                    padding: 2rem;
                    
                    z-index: 1;
                    display: grid;
                    grid-template-columns: repeat(11, 1fr);
                    grid-template-rows: repeat(6, 1fr);
                    grid-template-areas:
                        "I T1 .  .  .  .  .  .  .  .  ."
                        ". .  S  .  .  .  .  .  .  .  ."
                        ". .  .  .  .  .  .  .  .  .  ."
                        ". .  A  .  B  .  . T2 I2  .  ."
                        ". .  O  U  .  .  .  M  .  .  ."
                        ". .  .  .  .  T3 .  .  .  .  E"
                    ;
                
                    span {
                        text-align: center;;
                        padding: 0;
                        letter-spacing: 0;
                    }
                    
                    .I   { grid-area: I; }
                    .T1  { grid-area: T1; }
                    .S   { grid-area: S; }
                    .A   { grid-area: A; }
                    .B   { grid-area: B; }
                    .T2  { grid-area: T2; }
                    .I2  { grid-area: I2; }
                    .O   { grid-area: O; }
                    .U   { grid-area: U; }
                    .M   { grid-area: M; }
                    .T3  { grid-area: T3; }
                    .E   { grid-area: E; }
                }

                .sideways-copy {
                    z-index: 1;
                    position: absolute;
                    bottom: 2rem;
                    
                    width: 100%;
                    display: grid;
                    grid-template-columns: repeat(11, 1fr);
                    grid-template-rows: 1fr;
                    grid-template-areas: 
                    "p1 d . . . . . . p2 .";



                    p {
                        font-family: "Degular Mono";
                        writing-mode: vertical-rl;
                        transform: rotate(180deg); /* optional, matches the upside-down style */

                        &:last-of-type {
                            grid-area: p2;
                        }
                        
                    }

                    .sideways1 {
                        grid-area: p1;
                        justify-self: end;
                        transform: rotate(180deg) translateY(50%);
                    }


                    div {
                        grid-area: d;
                        display: flex;
                        flex-direction: row;
                        justify-content: center;
                        padding-right: 15%;
                    }
                }
            }
        }

        .yellow-ketchup-section {
            position: relative;
            margin-top: -110vh;
        }

        .testimonial {
            width: 100%;
            height: 100vh;
            position: absolute;
            top: 0;
            margin-top: 10vh;


            display: flex;
            justify-content: center;
            align-items: center;    
            
            div {
                display: flex;
                flex-direction: column;
                align-items: end;
            }
            p {
                text-transform: none;
                text-align: justify;
                text-align-last: justify;
                font-weight: 500;
                line-height: 124%; /* 2.48rem */
                letter-spacing: 0.2rem;
                width: 32ch;
                color: var(--key);


                &:last-of-type {
                    text-align: left;
                    text-align-last: left;
                    width: auto;
                    font-size: 1.25rem
                }

                span {
                    color: transparent;
                }
            }
        }

        .CTA-container {
            display: flex;
            align-items: center;
            flex-direction: column;
            overflow: none;
            height: auto;
            

            .four-repeat-type {
                position: relative;
                height: auto;
                margin-bottom: 15vh;
                

                
                .width-box { //Sets the width and margins for the text
                    margin-top: 20vh;
                    position: relative;
                    top: 0;


                    div {
                        margin-bottom: 30vh;

                    }
                }

            }
        
            .button-text {
                display: block;
                padding: .2rem .8rem .2rem 0;
                width: fit-content;
                margin-top: 1.5rem;
            }
            
        }

        .yellow-ketchup-img {
            position: sticky;
            top: 0;
            width: 100%;
            height: 100vh;
        }
    }

    .black-background {
        background-color: var(--key);
        color: var(--white);
    }
}


